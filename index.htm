<!DOCTYPE html>
<html>
<head>    
	<title>Google Maps JavaScript API V3</title>
	<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
	<link href="css/main.css" rel="stylesheet" type="text/css" />
	<script type="text/javascript" src="js/jquery-1.8.3.min.js"></script>
	<script type="text/javascript" src="https://maps.google.co.uk/maps/api/js?key=AIzaSyCaqTVfuYMofUZUESElspizPt2XIxoESk4&sensor=true"></script>
	<script type="text/javascript">
		var map;

		$(document).ready(function() {
			$("form#details").submit( function(evt) {	
				evt.preventDefault();
				var $inputs = $('form#details :input');

				var values = {}
				$inputs.each(function() {
					values[this.name] = $(this).val();
				})

				getLocation(values.Location);
			});
		})

		function getLocation(location) {
			$.ajax({
				url: "https://maps.googleapis.com/maps/api/geocode/json",
				dataType: "json",
				type: "GET",
				data: { 
					"address": location,
					"sensor": true
				},
				crossDomain: true,
				success: function(data) {
					lat = data.results[0].geometry.location.lat;
					lng = data.results[0].geometry.location.lng;
					map.setZoom(19);
					map.panTo(new google.maps.LatLng(lat, lng));
					
				}
			})
		}

		function initialize() {
			var mapOptions = {
				center: new google.maps.LatLng(51.30011329389015, -0.33036231994628906),
				zoom: 6,
				mapTypeId: google.maps.MapTypeId.SATELLITE
			};
			map = new google.maps.Map(document.getElementById("map_canvas"),
				mapOptions);
		}
	</script>
</head>

<body onload="initialize()">
	<div id="map_canvas" style="width: 100%; height: 100%"></div>
	<div id="user_controls">
		<h2>Test</h2>
		<form id="details">
			<label for="location">You are:</label>
			<input type="text" name="Location" id="location" />
			<br><br>
			<input type="submit" value="Find" />
		</form>

	</div>
</body>
</html>